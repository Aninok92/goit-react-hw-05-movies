{"version":3,"sources":["services/movies-api.js","views/MovieDetailsPage/MovieDetailsPage.module.scss","views/MovieDetailsPage/MovieDetailsPage.js"],"names":["axios","defaults","baseURL","API_KEY","fetchMovies","a","get","response","data","results","fetchMovieById","movieId","fetchMovieByKeyWord","movieKeyWord","module","exports","Cast","lazy","Reviews","Status","MovieDetailsPage","useRouteMatch","url","path","useParams","useState","movie","setMovie","status","setStatus","useEffect","movieApi","then","catch","error","console","log","className","s","card","src","poster_path","alt","title","content","info","infoSubtitle","release_date","vote_average","overview","infoList","genres","map","genre","infoItem","name","id","to","link","activeClassName","activeLink","fallback"],"mappings":"6RAIAA,IAAMC,SAASC,QAAU,6BACzB,IAAMC,EAAU,mCAEHC,EAAW,uCAAG,4BAAAC,EAAA,sEACFL,IAAMM,IAAN,sCAAyCH,IADvC,cACnBI,EADmB,yBAGlBA,EAASC,KAAKC,SAHI,2CAAH,qDAMXC,EAAc,uCAAG,WAAOC,GAAP,eAAAN,EAAA,sEACLL,IAAMM,IAAN,mBACTK,EADS,oBACUR,EADV,uDADK,cACtBI,EADsB,yBAIrBA,EAASC,MAJY,2CAAH,sDAOdI,EAAmB,uCAAG,WAAOC,GAAP,eAAAR,EAAA,sEACVL,IAAMM,IAAN,iCACKH,EADL,4DACgEU,IAFtD,cAC3BN,EAD2B,yBAI1BA,EAASC,KAAKC,SAJY,2CAAH,uD,mBCnBhCK,EAAOC,QAAU,CAAC,KAAO,+BAA+B,QAAU,kCAAkC,MAAQ,gCAAgC,KAAO,+BAA+B,aAAe,uCAAuC,SAAW,mCAAmC,SAAW,mCAAmC,KAAO,+BAA+B,WAAa,uC,gHCWjXC,EAAOC,gBAAK,kBAAM,gCAElBC,EAAUD,gBAAK,kBACnB,gCAGIE,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAuFGC,UApFf,WACE,MAAsBC,cAAdC,EAAR,EAAQA,IAAKC,EAAb,EAAaA,KACLZ,EAAYa,cAAZb,QACR,EAA0Bc,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA4BF,mBAASN,GAArC,mBAAOS,EAAP,KAAeC,EAAf,KAeA,OAbAC,qBAAU,WACRC,IACkBpB,GACfqB,MAAK,SAACvB,GACLkB,EAASlB,GACToB,EAAUV,MAEXc,OAAM,SAACC,GACNL,EAAUV,GACVgB,QAAQC,IAAIF,QAEf,CAACvB,IAGF,qCACGiB,IAAWT,GAAe,6BAC1BS,IAAWT,GAAkB,cAAC,IAAD,IAC7BS,IAAWT,GACV,sBAAKkB,UAAWC,IAAEC,KAAlB,UACE,qBACEC,IAAG,0CAAqCd,EAAMe,aAC9CC,IAAKhB,EAAMiB,QAEb,sBAAKN,UAAWC,IAAEM,QAAlB,UACE,oBAAIP,UAAWC,IAAEK,MAAjB,SAAyBjB,EAAMiB,QAC/B,oBAAGN,UAAWC,IAAEO,KAAhB,UACE,sBAAMR,UAAWC,IAAEQ,aAAnB,uBACCpB,EAAMqB,gBAET,oBAAGV,UAAWC,IAAEO,KAAhB,UACE,sBAAMR,UAAWC,IAAEQ,aAAnB,yBACCpB,EAAMsB,gBAET,oBAAGX,UAAWC,IAAEO,KAAhB,UACE,sBAAMR,UAAWC,IAAEQ,aAAnB,uBADF,IACqDpB,EAAMuB,YAE3D,qBAAIZ,UAAWC,IAAEY,SAAjB,UACE,sBAAMb,UAAWC,IAAEQ,aAAnB,qBACCpB,GACCA,EAAMyB,OAAOC,KAAI,SAACC,GAAD,OACf,oBAAmBhB,UAAWC,IAAEgB,SAAhC,SACGD,EAAME,MADAF,EAAMG,UAKrB,uBACA,cAAC,IAAD,CACEC,GAAE,UAAKnC,EAAL,SACFe,UAAWC,IAAEoB,KACbC,gBAAiBrB,IAAEsB,WAHrB,SAKE,wCAEF,cAAC,IAAD,CACEH,GAAE,UAAKnC,EAAL,YACFe,UAAWC,IAAEoB,KACbC,gBAAiBrB,IAAEsB,WAHrB,SAKE,2CAEF,cAAC,WAAD,CAAUC,SAAU,cAAC,IAAD,IAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOtC,KAAI,UAAKA,EAAL,SAAX,SACE,cAACP,EAAD,CAAMU,MAAOA,MAEf,cAAC,IAAD,CAAOH,KAAI,UAAKA,EAAL,YAAX,SACE,cAACL,EAAD,CAASQ,MAAOA,iBAO3BE,IAAWT,GAAmB","file":"static/js/MovieDetailsPage.4f0075f5.chunk.js","sourcesContent":["// https://api.themoviedb.org/3/trending/all/day?api_key=f78ff4f3a233cef30c068f16bf21ca7c\r\n\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://api.themoviedb.org\";\r\nconst API_KEY = \"f78ff4f3a233cef30c068f16bf21ca7c\";\r\n\r\nexport const fetchMovies = async () => {\r\n  const response = await axios.get(`/3/trending/all/day?api_key=${API_KEY}`);\r\n\r\n  return response.data.results;\r\n};\r\n\r\nexport const fetchMovieById = async (movieId) => {\r\n  const response = await axios.get(\r\n    `/3/movie/${movieId}?api_key=${API_KEY}&language=en-US&append_to_response=credits,reviews`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const fetchMovieByKeyWord = async (movieKeyWord) => {\r\n  const response = await axios.get(\r\n    `3/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${movieKeyWord}`\r\n  );\r\n  return response.data.results;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"MovieDetailsPage_card__1CMmt\",\"content\":\"MovieDetailsPage_content__1B6XU\",\"title\":\"MovieDetailsPage_title__1YF2X\",\"info\":\"MovieDetailsPage_info__15d0D\",\"infoSubtitle\":\"MovieDetailsPage_infoSubtitle__1G7Lz\",\"infoList\":\"MovieDetailsPage_infoList__1ysJV\",\"infoItem\":\"MovieDetailsPage_infoItem__1zHf7\",\"link\":\"MovieDetailsPage_link__o8ZDz\",\"activeLink\":\"MovieDetailsPage_activeLink__9kAiL\"};","import React, { useState, useEffect, lazy, Suspense } from \"react\";\r\nimport {\r\n  useParams,\r\n  Route,\r\n  NavLink,\r\n  Switch,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport * as movieApi from \"../../services/movies-api\";\r\nimport s from \"./MovieDetailsPage.module.scss\";\r\n\r\nconst Cast = lazy(() => import(\"../Cast/Cast\" /* webpackChunkName: \"Cast\" */));\r\n\r\nconst Reviews = lazy(() =>\r\n  import(\"../Reviews/Reviews\" /* webpackChunkName: \"Reviews\" */)\r\n);\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nfunction MovieDetailsPage() {\r\n  const { url, path } = useRouteMatch();\r\n  const { movieId } = useParams();\r\n  const [movie, setMovie] = useState(\"\");\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  useEffect(() => {\r\n    movieApi\r\n      .fetchMovieById(movieId)\r\n      .then((results) => {\r\n        setMovie(results);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch((error) => {\r\n        setStatus(Status.REJECTED);\r\n        console.log(error);\r\n      });\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {status === Status.IDLE && <></>}\r\n      {status === Status.PENDING && <Loader />}\r\n      {status === Status.RESOLVED && (\r\n        <div className={s.card}>\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w300/${movie.poster_path}`}\r\n            alt={movie.title}\r\n          />\r\n          <div className={s.content}>\r\n            <h2 className={s.title}>{movie.title}</h2>\r\n            <p className={s.info}>\r\n              <span className={s.infoSubtitle}>Release: </span>\r\n              {movie.release_date}\r\n            </p>\r\n            <p className={s.info}>\r\n              <span className={s.infoSubtitle}>User Score:</span>\r\n              {movie.vote_average}\r\n            </p>\r\n            <p className={s.info}>\r\n              <span className={s.infoSubtitle}>Overview:</span> {movie.overview}\r\n            </p>\r\n            <ul className={s.infoList}>\r\n              <span className={s.infoSubtitle}>Genres:</span>\r\n              {movie &&\r\n                movie.genres.map((genre) => (\r\n                  <li key={genre.id} className={s.infoItem}>\r\n                    {genre.name}\r\n                  </li>\r\n                ))}\r\n            </ul>\r\n            <hr />\r\n            <NavLink\r\n              to={`${url}/cast`}\r\n              className={s.link}\r\n              activeClassName={s.activeLink}\r\n            >\r\n              <h3>Cast</h3>\r\n            </NavLink>\r\n            <NavLink\r\n              to={`${url}/reviews`}\r\n              className={s.link}\r\n              activeClassName={s.activeLink}\r\n            >\r\n              <h3>Reviews</h3>\r\n            </NavLink>\r\n            <Suspense fallback={<Loader />}>\r\n              <Switch>\r\n                <Route path={`${path}/cast`}>\r\n                  <Cast movie={movie} />\r\n                </Route>\r\n                <Route path={`${path}/reviews`}>\r\n                  <Reviews movie={movie} />\r\n                </Route>\r\n              </Switch>\r\n            </Suspense>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {status === Status.REJECTED && <p>something wrong</p>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}