{"version":3,"sources":["images/no-image.png","services/movies-api.js","components/MoviesGallery/MoviesGallery.js","components/MoviesGallery/MoviesGallery.module.scss","components/SearchForm/SearchForm.module.scss","components/SearchForm/SearchForm.js","views/MoviesPage/MoviesPage.js"],"names":["axios","defaults","baseURL","API_KEY","fetchMovies","a","get","response","data","results","fetchMovieById","movieId","fetchMovieByKeyWord","movieKeyWord","MoviesGallery","movies","className","s","moviesGallery","map","movie","movieGalleryItem","to","id","link","activeClassName","activeLink","src","backdrop_path","defaultImage","alt","title","img","defaultProps","module","exports","SearchForm","onSubmit","useState","query","setQuery","e","preventDefault","form","label","type","value","onChange","target","toLowerCase","input","button","propType","PropTypes","func","Status","MoviesPage","setMovies","status","setStatus","useEffect","movieKeyWordApi","then","catch","error","console","log","Loader"],"mappings":"yIAAe,QAA0B,sC,oLCIzCA,IAAMC,SAASC,QAAU,6BACzB,IAAMC,EAAU,mCAEHC,EAAW,uCAAG,4BAAAC,EAAA,sEACFL,IAAMM,IAAN,sCAAyCH,IADvC,cACnBI,EADmB,yBAGlBA,EAASC,KAAKC,SAHI,2CAAH,qDAMXC,EAAc,uCAAG,WAAOC,GAAP,eAAAN,EAAA,sEACLL,IAAMM,IAAN,mBACTK,EADS,oBACUR,EADV,uDADK,cACtBI,EADsB,yBAIrBA,EAASC,MAJY,2CAAH,sDAOdI,EAAmB,uCAAG,WAAOC,GAAP,eAAAR,EAAA,sEACVL,IAAMM,IAAN,iCACKH,EADL,4DACgEU,IAFtD,cAC3BN,EAD2B,yBAI1BA,EAASC,KAAKC,SAJY,2CAAH,uD,gCCpBhC,2CAKA,SAASK,EAAT,GAAoC,IAAXC,EAAU,EAAVA,OACvB,OACE,oBAAIC,UAAWC,IAAEC,cAAjB,SACGH,EAAOI,KAAI,SAACC,GAAD,aACV,oBAAmBJ,UAAWC,IAAEI,iBAAhC,SACE,eAAC,IAAD,CACEC,GAAE,iBAAYF,EAAMG,IACpBP,UAAWC,IAAEO,KACbC,gBAAiBR,IAAES,WAHrB,UAKE,qBACEC,IACEP,EAAMQ,cAAN,0CACuCR,EAAMQ,eACzCC,IAENC,IAAKV,EAAMW,MACXf,UAAWC,IAAEe,MAEf,uCAAKZ,EAAMW,aAAX,QAAoB,iBAffX,EAAMG,SAuBvBT,EAAcmB,aAAe,CAC3BF,MAAO,WACPH,cAAe,MAaFd,O,mBC9CfoB,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,iBAAmB,wCAAwC,KAAO,4BAA4B,WAAa,kCAAkC,IAAM,6B,mBCA1ND,EAAOC,QAAU,CAAC,KAAO,yBAAyB,MAAQ,0BAA0B,MAAQ,0BAA0B,OAAS,6B,kHCG/H,SAASC,EAAT,GAAmC,IAAbC,EAAY,EAAZA,SACpB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAWA,OACE,uBAAMH,SANa,SAACI,GACpBA,EAAEC,iBACFL,EAASE,GACTC,EAAS,KAGqBxB,UAAWC,IAAE0B,KAA3C,UACE,wBAAO3B,UAAWC,IAAE2B,MAApB,kBAEE,uBACEC,KAAK,OACLC,MAAOP,EACPQ,SAhBa,SAACN,GACpBD,EAASC,EAAEO,OAAOF,MAAMG,gBAgBlBjC,UAAWC,IAAEiC,WAIjB,wBAAQL,KAAK,SAAS7B,UAAWC,IAAEkC,OAAnC,uBAONf,EAAWH,aAAe,CACxBI,SAAU,kBAAM,OAGlBD,EAAWgB,SAAW,CACpBf,SAAUgB,IAAUC,MAGPlB,Q,QCrCTmB,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAwCGC,UArCf,WACE,MAA0BlB,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA4BF,mBAAS,IAArC,mBAAOvB,EAAP,KAAe0C,EAAf,KACA,EAA4BnB,mBAASiB,GAArC,mBAAOG,EAAP,KAAeC,EAAf,KAqBA,OAnBAC,qBAAU,WACHrB,IAILoB,EAAUJ,GAEVM,IACuBtB,GACpBuB,MAAK,SAACrD,GACLgD,EAAUhD,GACVkD,EAAUJ,MAEXQ,OAAM,SAACC,GACNL,EAAUJ,GACVU,QAAQC,IAAIF,SAEf,CAACzB,IAGF,qCACE,cAAC,EAAD,CAAYF,SAAUG,IACrBkB,IAAWH,GAAe,6BAC1BG,IAAWH,GAAkB,cAACY,EAAA,EAAD,IAC7BT,IAAWH,GACV,cAACzC,EAAA,EAAD,CAAeC,OAAQA,IAExB2C,IAAWH,GAAmB","file":"static/js/MoviesPage.66156cc8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/no-image.3684e37c.png\";","// https://api.themoviedb.org/3/trending/all/day?api_key=f78ff4f3a233cef30c068f16bf21ca7c\r\n\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://api.themoviedb.org\";\r\nconst API_KEY = \"f78ff4f3a233cef30c068f16bf21ca7c\";\r\n\r\nexport const fetchMovies = async () => {\r\n  const response = await axios.get(`/3/trending/all/day?api_key=${API_KEY}`);\r\n\r\n  return response.data.results;\r\n};\r\n\r\nexport const fetchMovieById = async (movieId) => {\r\n  const response = await axios.get(\r\n    `/3/movie/${movieId}?api_key=${API_KEY}&language=en-US&append_to_response=credits,reviews`\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const fetchMovieByKeyWord = async (movieKeyWord) => {\r\n  const response = await axios.get(\r\n    `3/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${movieKeyWord}`\r\n  );\r\n  return response.data.results;\r\n};\r\n","import { NavLink } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport defaultImage from \"../../images/no-image.png\";\r\nimport s from \"./MoviesGallery.module.scss\";\r\n\r\nfunction MoviesGallery({ movies }) {\r\n  return (\r\n    <ul className={s.moviesGallery}>\r\n      {movies.map((movie) => (\r\n        <li key={movie.id} className={s.movieGalleryItem}>\r\n          <NavLink\r\n            to={`movies/${movie.id}`}\r\n            className={s.link}\r\n            activeClassName={s.activeLink}\r\n          >\r\n            <img\r\n              src={\r\n                movie.backdrop_path\r\n                  ? `https://image.tmdb.org/t/p/w300/${movie.backdrop_path}`\r\n                  : defaultImage\r\n              }\r\n              alt={movie.title}\r\n              className={s.img}\r\n            />\r\n            <h3>{movie.title ?? \"no title\"}</h3>\r\n          </NavLink>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nMoviesGallery.defaultProps = {\r\n  title: \"No title\",\r\n  backdrop_path: null,\r\n};\r\n\r\nMoviesGallery.propTypes = {\r\n  movies: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      backdrop_path: PropTypes.string,\r\n      title: PropTypes.string,\r\n    })\r\n  ),\r\n};\r\n\r\nexport default MoviesGallery;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moviesGallery\":\"MoviesGallery_moviesGallery__3TG51\",\"movieGalleryItem\":\"MoviesGallery_movieGalleryItem__3nDsq\",\"link\":\"MoviesGallery_link__3GU_3\",\"activeLink\":\"MoviesGallery_activeLink__nUMby\",\"img\":\"MoviesGallery_img__pIXQJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__1xrra\",\"label\":\"SearchForm_label__1h_WW\",\"input\":\"SearchForm_input__zREVF\",\"button\":\"SearchForm_button__7lm9T\"};","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./SearchForm.module.scss\";\r\n\r\nfunction SearchForm({ onSubmit }) {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setQuery(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(query);\r\n    setQuery(\"\");\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit} className={s.form}>\r\n      <label className={s.label}>\r\n        Movie\r\n        <input\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={handleChange}\r\n          className={s.input}\r\n        />\r\n      </label>\r\n\r\n      <button type=\"submit\" className={s.button}>\r\n        Search\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nSearchForm.defaultProps = {\r\n  onSubmit: () => null,\r\n};\r\n\r\nSearchForm.propType = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default SearchForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MoviesGallery from \"../../components/MoviesGallery/MoviesGallery\";\r\nimport * as movieKeyWordApi from \"../../services/movies-api\";\r\nimport SearchForm from \"../../components/SearchForm/SearchForm\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nfunction MoviesPage() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [movies, setMovies] = useState([]);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  useEffect(() => {\r\n    if (!query) {\r\n      return;\r\n    }\r\n\r\n    setStatus(Status.PENDING);\r\n\r\n    movieKeyWordApi\r\n      .fetchMovieByKeyWord(query)\r\n      .then((results) => {\r\n        setMovies(results);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch((error) => {\r\n        setStatus(Status.REJECTED);\r\n        console.log(error);\r\n      });\r\n  }, [query]);\r\n\r\n  return (\r\n    <>\r\n      <SearchForm onSubmit={setQuery}></SearchForm>\r\n      {status === Status.IDLE && <></>}\r\n      {status === Status.PENDING && <Loader />}\r\n      {status === Status.RESOLVED && (\r\n        <MoviesGallery movies={movies}></MoviesGallery>\r\n      )}\r\n      {status === Status.REJECTED && <p>something wrong</p>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}